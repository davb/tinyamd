/*! tinyamd 0.1.0 23-04-2013 */
(function(n,t){"use strict";function e(){}function r(n,t){if(n){"object"==typeof n&&(n=[].slice.call(n));for(var e=0,r=n.length;r>e;e++)t.call(n,n[e],e)}}function o(n,e){var r=Object.prototype.toString.call(e).slice(8,-1);return e!==t&&null!==e&&r===n}function u(n){return o("Function",n)}function a(n){return o("Array",n)}function i(n){var t=n.split("/"),e=t[t.length-1],r=e.indexOf("?");return-1!==r?e.substring(0,r):e}function l(n){n=n||e,n._done||(n(),n._done=1)}function c(n){var t={};if("object"==typeof n)for(var e in n)n[e]&&(t={name:e,url:n[e]});else t={name:i(n),url:n};var r=T[t.name];return r&&r.url===t.url?r:(T[t.name]=t,t)}function f(n){n=n||T;for(var t in n)if(n.hasOwnProperty(t)&&n[t].state!==_)return!1;return!0}function s(n){n.state=S,r(n.onpreload,function(n){n.call()})}function d(n){n.state===t&&(n.state=O,n.onpreload=[],h({url:n.url,type:"cache"},function(){s(n)}))}function p(n,o){return o=o||e,n.state===_?(o(),t):n.state===M?(k.ready(n.name,o),t):n.state===O?(n.onpreload.push(function(){p(n,o)}),t):(n.state=M,h(n,function(){n.state=_,o(),r(b[n.name],function(n){l(n)}),g&&f()&&r(b.ALL,function(n){l(n)})}),t)}function h(t,r){function o(t){t=t||n.event,a.onload=a.onreadystatechange=a.onerror=null,r()}function u(t){t=t||n.event,("load"===t.type||/loaded|complete/.test(a.readyState)&&(!E.documentMode||9>E.documentMode))&&(a.onload=a.onreadystatechange=a.onerror=null,r())}r=r||e;var a;/\.css[^\.]*$/.test(t.url)?(a=E.createElement("link"),a.type="text/"+(t.type||"css"),a.rel="stylesheet",a.href=t.url):(a=E.createElement("script"),a.type="text/"+(t.type||"javascript"),a.src=t.url),a.onload=a.onreadystatechange=u,a.onerror=o,a.async=!1,a.defer=!1;var i=E.head||E.getElementsByTagName("head")[0];i.insertBefore(a,i.lastChild)}function m(){return E.body?(g||(g=!0,r(L,function(n){l(n)})),t):(n.clearTimeout(k.readyTimeout),k.readyTimeout=n.setTimeout(m,50),t)}function y(){E.addEventListener?(E.removeEventListener("DOMContentLoaded",y,!1),m()):"complete"===E.readyState&&(E.detachEvent("onreadystatechange",y),m())}var v,g,E=n.document,L=[],w=[],b={},T={},j="async"in E.createElement("script")||"MozAppearance"in E.documentElement.style||n.opera,A=n.head_conf&&n.head_conf.head||"head",k=n[A]=n[A]||function(){k.ready.apply(null,arguments)},O=1,S=2,M=3,_=4;if(k.load=j?function(){var n=arguments,t=n[n.length-1],e={};return u(t)||(t=null),r(n,function(r,o){r!==t&&(r=c(r),e[r.name]=r,p(r,t&&o===n.length-2?function(){f(e)&&l(t)}:null))}),k}:function(){var n=arguments,t=[].slice.call(n,1),e=t[0];return v?(e?(r(t,function(n){u(n)||d(c(n))}),p(c(n[0]),u(e)?e:function(){k.load.apply(null,t)})):p(c(n[0])),k):(w.push(function(){k.load.apply(null,n)}),k)},k.js=k.load,k.test=function(n,t,r,o){var u="object"==typeof n?n:{test:n,success:t?a(t)?t:[t]:!1,failure:r?a(r)?r:[r]:!1,callback:o||e},i=!!u.test;return i&&u.success?(u.success.push(u.callback),k.load.apply(null,u.success)):!i&&u.failure?(u.failure.push(u.callback),k.load.apply(null,u.failure)):o(),k},k.ready=function(n,t){if(n===E)return g?l(t):L.push(t),k;if(u(n)&&(t=n,n="ALL"),"string"!=typeof n||!u(t))return k;var e=T[n];if(e&&e.state===_||"ALL"===n&&f()&&g)return l(t),k;var r=b[n];return r?r.push(t):r=b[n]=[t],k},k.ready(E,function(){f()&&r(b.ALL,function(n){l(n)}),k.feature&&k.feature("domloaded",!0)}),"complete"===E.readyState)m();else if(E.addEventListener)E.addEventListener("DOMContentLoaded",y,!1),n.addEventListener("load",m,!1);else{E.attachEvent("onreadystatechange",y),n.attachEvent("onload",m);var x=!1;try{x=null==n.frameElement&&E.documentElement}catch(C){}x&&x.doScroll&&function q(){if(!g){try{x.doScroll("left")}catch(e){return n.clearTimeout(k.readyTimeout),k.readyTimeout=n.setTimeout(q,50),t}m()}}()}setTimeout(function(){v=!0,r(w,function(n){n()})},300)})(window),function(){var n,t,e,r,o,u,a,i,l,c,f,s,d,p,h,m=[].slice;t={},n=null!=(d=window.tinyamd_config)?d:"","/"!==n.charAt(n.length-1)&&(n+="/"),e={},h={},r={},o=null!=[].forEach?function(n,t,e){return n.forEach(t,e)}:function(n,t,e){return l(n,t,e),null},l=null==[].map?function(n,t,e){return n.map(t,e)}:function(n,t,e){var r,o,u,a,i;for(o=[],r=a=0,i=n.length;i>a;r=++a)u=n[r],o.push(t.call(e||this,u,r));return o},s=function(n,t){var e,r;return r=0,e=[],0===n.length?t(void 0,e):o(n,function(o,u){return o.call(this,function(o,a){return null!=o?(r=-1,t(o)):(e[u]=a,(r+=1)===n.length?t(void 0,e):void 0)})})},c=function(n,t){var e,r,o,u,a;if(t){for(o=(r=t.split("/")).slice(0,r.length-1).concat(n.split("/")),n=[],e=u=a=o.length-1;u>=0;e=u+=-1){if(".."===o[e]&&e>0){e-=1;break}"."!==o[e]&&n.unshift(o[e])}n=n.join("/")}else 0===n.indexOf("./")&&(n=n.substring(2));return n},i={},a={},f={},u=function(t,e){return i[t]?(f[t].push(e),void 0):(i[t]=!0,f[t]=[e],head.js(""+n+t+".js",function(){return a[t]=!0,window.setTimeout(function(){return p([t],function(n){return o(f[t],function(t){return t(n)})})},10)}))},p=function(n,t){var r,o,i,f,d,y,v,g;return null!=t?(i=n,g=l(i,function(n){return function(t){var r,o,i,f;return e[n]?t(void 0,e[n]):(r=h[n])?(delete h[n],f=r[0],o=l(r[1]||[],function(t){return c(t,n)}),i=r[2],p(o,function(){var r;return r=arguments.length>=1?m.call(arguments,0):[],e[n]=i.apply(this,r),t(void 0,e[n])})):a[n]?t("unable to load module "+n+" remotely"):u(n,function(n){return t(void 0,n)})}}),s(g,function(n,e){if(null!=n)throw Error(n);return t.apply(this,e)})):(o=n,!e[o]&&(r=h[o])&&(delete h[o],v=r[0],f=r[1]||[],d=r[2],y=l(f,function(n){return p(c(n))}),e[o]=d.apply(this,y)),e[o])},window.require=function(n,t){if("string"==typeof n)return p(n)||function(){throw Error("missing module "+n)}();if(n.splice){if("function"!=typeof t)throw Error("missing callback");return p(n,t),require}},window.define=function(n,t,r){return t.splice||(r=t,t=[]),e[n]||h[n]?void 0:h[n]=[n,t,r]}}.call(this);